<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>إدارة الطلبات</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
    <div class="container mt-5">
        <h2 class="text-center">نموذج تقديم الطلب</h2>
        <form id="orderForm">
            <div class="mb-3">
                <label class="form-label">اسم العميل</label>
                <input type="text" id="customerName" class="form-control" required>
            </div>
            <div class="mb-3">
                <label class="form-label">تفاصيل الطلب</label>
                <textarea id="orderDetails" class="form-control" rows="3" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary w-100">إرسال الطلب</button>
        </form>
        <hr>
        <h3 class="text-center">الطلبات المستلمة</h3>
        <ul id="ordersList" class="list-group mt-3"></ul>
    </div>

    <script>
        const socket = new WebSocket("wss://your-vercel-app.vercel.app");

        document.getElementById("orderForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const customerName = document.getElementById("customerName").value;
            const orderDetails = document.getElementById("orderDetails").value;
            
            const order = { customerName, orderDetails };
            socket.send(JSON.stringify(order));

            document.getElementById("customerName").value = "";
            document.getElementById("orderDetails").value = "";
        });

        socket.onmessage = function(event) {
            const order = JSON.parse(event.data);
            const listItem = document.createElement("li");
            listItem.className = "list-group-item";
            listItem.textContent = `${order.customerName}: ${order.orderDetails}`;
            document.getElementById("ordersList").appendChild(listItem);
        };
    </script>
</body>
</html>
